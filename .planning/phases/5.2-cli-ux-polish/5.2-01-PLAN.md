---
phase: 5.2-cli-ux-polish
plan: 01
type: execute
---

<objective>
Improve CLI output formatting consistency and readability across all human-readable commands.

Purpose: Make analysis and comparison output visually consistent and easier to read at a glance.
Output: Unified table styling across analyze and compare commands with consistent border patterns.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/5.1-cli-iterate-command/5.1-01-SUMMARY.md

@src/audioloop/interpret.py
@src/audioloop/compare.py
@src/audioloop/cli.py

**Phase Context from 5.1:**
- User preferred original table borders during 5.1 verification
- ANSI rendering issues were fixed but table consistency was deferred
- Current state: analyze uses `box=None`, compare uses default ROUNDED borders

**Rich Box Styles Available:**
- `box.SIMPLE` - Header separator only, clean minimal look
- `box.ROUNDED` - Rounded corners, full borders (current compare style)
- `box.MINIMAL` - Light vertical separators only
- `box=None` - No borders at all (current analyze style)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Unify table styling with consistent box style</name>
  <files>src/audioloop/interpret.py, src/audioloop/compare.py</files>
  <action>
Add `from rich import box` to both files.

For interpret.py (_render_analysis_tables):
- Change all tables from `box=None` to `box=box.SIMPLE`
- SIMPLE style provides header underline without full borders, clean professional look
- Keep show_header settings as-is (False for key-value tables, True for L/R spectral table)

For compare.py (print_comparison_human):
- Change from default box (ROUNDED) to `box=box.SIMPLE` for consistency with analyze
- This matches the analysis output style

Why SIMPLE: It provides visual structure (header separation) without the heavier ROUNDED borders, good for terminal output that may be copied/pasted.
  </action>
  <verify>
Run: uv run audioloop analyze sounds/test_clean.wav
Run: uv run audioloop compare sounds/test_clean.wav sounds/hecker_v2.wav
Both should show consistent SIMPLE box style (header underline, no outer borders)
  </verify>
  <done>
- All tables use box.SIMPLE consistently
- analyze and compare output have matching visual style
- Headers are visually separated from content
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Unified table styling across analyze and compare commands</what-built>
  <how-to-verify>
    1. Run: uv run audioloop analyze sounds/test_clean.wav
    2. Run: uv run audioloop compare sounds/test_clean.wav sounds/hecker_v2.wav
    3. Run: uv run audioloop iterate sounds/test_clean.wav --no-play --human
    4. Verify tables have consistent styling (SIMPLE box - header underline only)
    5. Verify output is readable and values align properly
    6. If SIMPLE feels too minimal, we can switch to ROUNDED for all tables
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or suggest a different box style (e.g., "use ROUNDED instead")</resume-signal>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `uv run pytest tests/` passes (no regressions)
- [ ] analyze command shows SIMPLE box style
- [ ] compare command shows SIMPLE box style
- [ ] iterate --human shows SIMPLE box style
- [ ] Tables are readable and properly aligned
</verification>

<success_criteria>

- All human-readable output uses consistent table styling
- No test regressions
- User approves the visual appearance
</success_criteria>

<output>
After completion, create `.planning/phases/5.2-cli-ux-polish/5.2-01-SUMMARY.md`:

# Phase 5.2 Plan 01: CLI Output UX Polish Summary

**[Substantive one-liner]**

## Accomplishments

- [Key outcome]

## Files Created/Modified

- `path/to/file.py` - Description

## Decisions Made

[Box style choice and rationale]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Phase Readiness

[Ready for Phase 6: Spectrogram Visualization]
</output>
